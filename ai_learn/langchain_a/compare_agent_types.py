"""
å¯¹æ¯”ä¸åŒçš„ Agent æ¨¡å¼
"""

print("=" * 70)
print("ğŸ“š LangChain Agent æ¨¡å¼å¯¹æ¯”")
print("=" * 70)

print("""
1ï¸âƒ£ ä¼ ç»Ÿ ReAct Agent
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç‰¹ç‚¹:
- ä½¿ç”¨ç‰¹å®šçš„ ReAct prompt template
- æ˜ç¡®çš„ Thought/Action/Observation å¾ªç¯
- LLM è¾“å‡ºç»“æ„åŒ–çš„æ¨ç†æ–‡æœ¬

ç¤ºä¾‹ Prompt:
    Question: åŒ—äº¬ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ
    Thought: æˆ‘åº”è¯¥æŸ¥è¯¢åŒ—äº¬çš„å¤©æ°”
    Action: get_weather[åŒ—äº¬]
    Observation: åŒ—äº¬ä»Šå¤©æ™´æœ—ï¼Œ25Â°C
    Thought: æˆ‘ç°åœ¨çŸ¥é“æœ€ç»ˆç­”æ¡ˆäº†
    Final Answer: åŒ—äº¬ä»Šå¤©æ™´æœ—ï¼Œ25Â°C

ä»£ç :
    from langchain.agents import create_react_agent
    agent = create_react_agent(llm, tools, prompt)


2ï¸âƒ£ Tool Calling Agent (æˆ‘ä»¬çš„å®ç°)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç‰¹ç‚¹:
- ä½¿ç”¨ LLM çš„åŸç”Ÿ Function Calling èƒ½åŠ›
- åŸºäº LangGraph çš„çŠ¶æ€æœº
- ä¸è¾“å‡º "Thought" æ–‡æœ¬ï¼Œç›´æ¥è°ƒç”¨å·¥å…·

å·¥ä½œæµç¨‹:
    1. LLM åˆ†æç”¨æˆ·æ„å›¾
    2. å†³å®šæ˜¯å¦éœ€è¦è°ƒç”¨å·¥å…·ï¼ˆå†…éƒ¨æ¨ç†ï¼Œä¸è¾“å‡ºï¼‰
    3. ç”Ÿæˆç»“æ„åŒ–çš„å·¥å…·è°ƒç”¨è¯·æ±‚
    4. æ‰§è¡Œå·¥å…·ï¼Œè·å–ç»“æœ
    5. LLM åŸºäºå·¥å…·ç»“æœç”Ÿæˆå›å¤

ä»£ç :
    from langchain.agents import create_agent
    agent = create_agent(model=llm, tools=tools, system_prompt="...")


3ï¸âƒ£ å…³é”®åŒºåˆ«
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     ç‰¹æ€§        â”‚  ReAct       â”‚ Tool Calling   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ æ¨ç†è¿‡ç¨‹è¾“å‡º    â”‚ å¯è§ï¼ˆæ–‡æœ¬ï¼‰ â”‚ éšè—ï¼ˆå†…éƒ¨ï¼‰   â”‚
â”‚ å·¥å…·è°ƒç”¨æ–¹å¼    â”‚ æ–‡æœ¬è§£æ     â”‚ ç»“æ„åŒ– API     â”‚
â”‚ Prompt å¤æ‚åº¦   â”‚ é«˜           â”‚ ä½             â”‚
â”‚ ä¾èµ– LLM èƒ½åŠ›   â”‚ æ–‡æœ¬ç”Ÿæˆ     â”‚ Function Call  â”‚
â”‚ LangChain ç‰ˆæœ¬  â”‚ 0.x          â”‚ 1.x+ (æ–°)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


4ï¸âƒ£ æˆ‘ä»¬çš„ weather_agent.py
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æŠ€æœ¯å®ç°: Tool Calling Agent (åŸºäº LangGraph)
æ¦‚å¿µæ¨¡å¼: ç±»ä¼¼ ReAct çš„æ¨ç†-è¡ŒåŠ¨å¾ªç¯

æ‰€ä»¥:
âœ“ æ¦‚å¿µä¸Š: ä½¿ç”¨äº† ReAct çš„"æ¨ç†â†’è¡ŒåŠ¨â†’è§‚å¯Ÿ"å¾ªç¯æ€æƒ³
âœ— æŠ€æœ¯ä¸Š: ä¸æ˜¯ä¼ ç»Ÿçš„ ReAct Agentï¼Œè€Œæ˜¯æ›´ç°ä»£çš„ Tool Calling Agent


5ï¸âƒ£ å®é™…è¿è¡Œè¿‡ç¨‹
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç”¨æˆ·: "åŒ—äº¬ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·"

[Step 1] LLM æ¨ç†ï¼ˆå†…éƒ¨ï¼‰
  â†’ éœ€è¦æŸ¥è¯¢å¤©æ°”ä¿¡æ¯
  â†’ åº”è¯¥è°ƒç”¨ get_weather å·¥å…·

[Step 2] LLM ç”Ÿæˆå·¥å…·è°ƒç”¨
  â†’ get_weather(city="åŒ—äº¬")

[Step 3] æ‰§è¡Œå·¥å…·
  â†’ è°ƒç”¨ wttr.in API
  â†’ è¿”å›: "ğŸ“ åœ°ç‚¹: åŒ—äº¬\nğŸŒ¡ï¸ æ¸©åº¦: 1Â°C..."

[Step 4] LLM ç”Ÿæˆæœ€ç»ˆå›å¤
  â†’ "åŒ—äº¬ä»Šå¤©æ™´æœ—ï¼Œæ°”æ¸©ä¸º1Â°Cï¼Œé€‚åˆå¤–å‡ºï¼Œä½†æ³¨æ„ä¿æš–å“¦ï¼"

æ•´ä¸ªè¿‡ç¨‹è‡ªåŠ¨åŒ–ï¼Œç”¨æˆ·æ— éœ€å¹²é¢„ï¼
""")

print("=" * 70)
